<button routerLink="../">Back</button>

<main *ngrxLet="episode$ as episode" class="flex flex-col gap-2 mt-8">
  <h2>{{ episode?.EpisodeNumber }}. {{ episode?.EpisodeName }}</h2>
  <p class="text-gray-300">{{ episode?.Overview }}</p>

  <div class="flex flex-col gap-16 mt-8">
    <app-info-field
      label="First Aired"
      [value]="
        episode?.FirstAired ? (episode?.FirstAired | date: 'medium') : ''
      "
    ></app-info-field>

    <div class="flex gap-8">
      <app-info-field
        label="Season"
        [value]="episode?.SeasonNumber ?? ''"
      ></app-info-field>

      <app-info-field
        label="Episode"
        [value]="episode?.EpisodeNumber ?? ''"
      ></app-info-field>
    </div>

    <div class="flex gap-8">
      <app-info-field
        label="Rating"
        [value]="episode?.Rating ?? ''"
      ></app-info-field>
      <app-info-field
        label="Rating Count"
        [value]="episode?.RatingCount ?? ''"
      ></app-info-field>

      <app-info-field
        label="Director"
        [value]="episode?.Director ?? ''"
      ></app-info-field>
    </div>
  </div>
</main>

<footer class="flex gap-4 w-full mt-8">
  <ng-container *ngrxLet="previousEpisodeId$ as previousId">
    <button
      [disabled]="!previousId"
      class="flex-1"
      [routerLink]="['../', previousId]"
    >
      Previous Episode
    </button>
  </ng-container>

  <ng-container *ngrxLet="nextEpisodeId$ as nextId">
    <button [disabled]="!nextId" class="flex-1" [routerLink]="['../', nextId]">
      Next Episode
    </button>
  </ng-container>
</footer>
